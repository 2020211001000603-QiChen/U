 # UMC论文流程图设计指南

## 🎯 最重要的图：Figure 1 - UMC Framework Architecture

### 设计原则

1. **清晰性**：一眼就能看懂整个框架
2. **完整性**：包含所有关键组件
3. **层次性**：从左到右展示数据流
4. **突出性**：用颜色/样式突出创新点

### 详细设计

#### 布局结构（从左到右）

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          UMC Framework Architecture                          │
└─────────────────────────────────────────────────────────────────────────────┘

[输入层] → [特征提取层] → [ConFEDE增强层] → [注意力融合层] → [聚类学习层] → [输出层]
```

#### 具体组件标注

**阶段一：特征提取与投影**
```
文本输入 (TSV) ──→ BERT编码器 ──→ 文本特征投影 (768→256)
视频输入 (PKL) ──→ Swin特征 ──→ 视频特征投影 (256→256)
音频输入 (PKL) ──→ WavLM特征 ──→ 音频特征投影 (768→256)
```

**阶段二：ConFEDE双投影增强（创新点一）**
```
视频特征 ──→ [相似性投影] ──┐
          └─→ [相异性投影] ──┼─→ [融合层] ──→ 增强视频特征 + 残差
          
音频特征 ──→ [相似性投影] ──┐
          └─→ [相异性投影] ──┼─→ [融合层] ──→ 增强音频特征 + 残差
```

**阶段三：文本引导多模态融合（创新点二）**
```
文本特征 ──┐
          ├─→ [交叉注意力 (8头)] ──→ 文本引导视频特征
视频特征 ──┘
          
文本特征 ──┐
          ├─→ [交叉注意力 (8头)] ──→ 文本引导音频特征
音频特征 ──┘

[文本特征; 文本引导视频; 文本引导音频] ──→ [自注意力 (8头×2层)] ──→ 增强多模态特征

增强多模态特征 ──→ [门控融合] ──→ 最终多模态表示
```

**阶段四：自适应渐进式聚类学习（创新点三）**
```
最终多模态表示 ──→ [K-means++初始化] ──→ 聚类中心
                              ↓
                    [自适应阈值计算] ──→ S型曲线 + 性能/损失/稳定性调整
                              ↓
                    [样本选择] ──→ 高质量样本 | 低质量样本
                              ↓
                    [联合损失优化] ──→ SupConLoss + ContrastiveLoss + CompactnessLoss + SeparationLoss
                              ↓
                    聚类结果 (NMI/ARI/ACC/FMI)
```

### 颜色/样式建议

- **创新点一（ConFEDE）**：蓝色背景
- **创新点二（文本引导注意力）**：绿色背景
- **创新点三（自适应渐进式学习）**：橙色背景
- **创新点四（联合损失）**：紫色背景
- **基础组件**：灰色背景
- **数据流**：黑色箭头
- **多头注意力**：标注"8 heads"或"8H"

### 标注要点

1. **维度标注**：所有特征维度都要标注（如768→256）
2. **头数标注**：所有注意力都要标注头数（如8 heads）
3. **层数标注**：自注意力标注层数（如2 layers）
4. **创新点标注**：用虚线框或颜色标注创新点

---

## 📊 其他必要的图

### Figure 2: ConFEDE Dual Projection Mechanism

**位置**：3.3节之后

**内容**：
```
输入特征 [B, L, D]
    │
    ├── 相似性投影 (simi_proj)
    │   └── 主要信息 [B, L, D]
    │       ├── 视频: 人物、动作、表情
    │       └── 音频: 语音内容、语调、情感
    │
    ├── 相异性投影 (dissimi_proj)
    │   └── 环境信息 [B, L, D]
    │       ├── 视频: 背景、场景、环境
    │       └── 音频: 背景噪音、环境音、音质
    │
    └── 融合层 (fusion)
        └── [concat] ──→ Linear(2D→D) ──→ 增强特征 + 残差连接
```

### Figure 3: Text-Guided Attention Fusion

**位置**：3.4节之后

**内容**：
```
文本特征 T [L_t, B, D] ──┐
                          ├─→ MultiHead(Q=T, K=V, V=V) [8 heads]
视频特征 V [L_v, B, D] ──┘         ↓
                          ┌─→ 交叉注意力结果
                          │
文本特征 T ────────────────┼─→ MultiHead(Q=T, K=Attn_v, V=Attn_v) [8 heads]
                          │         ↓
                          └─→ 文本引导视频特征
                          
[类似流程处理音频]

[T; H_v; H_a] ──→ MultiHead(Q=K=V=Combined) [8 heads × 2 layers] ──→ 增强特征
```

### Figure 4: Adaptive Progressive Learning Strategy

**位置**：3.5节之后

**内容**：
```
训练进度 (0% → 100%)
    │
    ├── S型曲线阈值增长
    │   ├── 早期(0-20%): 缓慢增长
    │   ├── 中期(20-60%): 快速增长
    │   ├── 后期(60-90%): 稳定增长
    │   └── 最终(90-100%): 微调增长
    │
    ├── 多维度自适应调整
    │   ├── 性能调整: ±0.01~0.03
    │   ├── 损失调整: ±0.01~0.02
    │   └── 稳定性调整: ±0.005~0.01
    │
    └── K-means++初始化
        ├── Epoch 0: K-means++初始化
        └── Epoch >0: 使用上一轮中心
```

### Figure 5: Training Process Visualization

**位置**：4.5.3节

**内容**：三个子图
- 子图1：阈值变化曲线（S型曲线 + 自适应调整）
- 子图2：性能提升曲线（NMI/ARI/ACC随epoch变化）
- 子图3：损失下降曲线（总损失、各分项损失）

### Figure 6: Feature Space Visualization (t-SNE)

**位置**：4.5.1节

**内容**：对比UMC和基线方法（CC）的t-SNE可视化
- 左图：CC的特征空间
- 右图：UMC的特征空间
- 用不同颜色表示不同类别

---

## 🛠️ 绘图工具推荐

### 专业工具（推荐）

1. **Draw.io / diagrams.net**
   - 免费、在线、易用
   - 适合流程图
   - 导出为PNG/SVG/PDF

2. **TikZ (LaTeX)**
   - 高质量、学术标准
   - 与LaTeX完美集成
   - 需要学习语法

3. **PowerPoint / Keynote**
   - 简单易用
   - 适合快速绘制
   - 导出为图片

### 在线工具

1. **Lucidchart**
   - 专业流程图工具
   - 协作功能
   - 需要注册

2. **Excalidraw**
   - 手绘风格
   - 免费开源
   - 适合草图

### Python可视化（训练曲线）

```python
import matplotlib.pyplot as plt
import numpy as np

# 阈值变化曲线
epochs = np.arange(0, 100)
threshold = s_curve_threshold(epochs) + adaptive_adjustment(epochs)
plt.plot(epochs, threshold)
plt.xlabel('Epoch')
plt.ylabel('Threshold')
plt.title('Adaptive Threshold Evolution')
plt.savefig('threshold_curve.png')
```

---

## ✅ 检查清单

- [ ] Figure 1：整体框架图（最重要，必须完成）
- [ ] Figure 2：ConFEDE双投影机制
- [ ] Figure 3：文本引导注意力融合
- [ ] Figure 4：自适应渐进式学习策略
- [ ] Figure 5：训练过程可视化（可选但建议）
- [ ] Figure 6：特征空间可视化（可选但建议）

### 质量检查

- [ ] 所有维度标注清晰
- [ ] 所有头数/层数标注清晰
- [ ] 创新点用颜色/样式突出
- [ ] 数据流方向清晰（从左到右）
- [ ] 文字大小适中，易于阅读
- [ ] 导出为高分辨率图片（至少300 DPI）

---

## 💡 绘图技巧

1. **保持一致性**：所有图使用相同的颜色方案和样式
2. **简化复杂**：复杂流程可以分多个子图展示
3. **突出关键**：用粗线、颜色、标注突出关键组件
4. **标注清晰**：所有维度、参数都要标注
5. **布局合理**：从左到右、从上到下，符合阅读习惯

---

## 📝 在论文中的引用

在Methodology部分，每个创新点描述后引用对应的图：

- "如图1所示，UMC框架包含四个主要阶段..."
- "ConFEDE双投影机制如图2所示..."
- "文本引导注意力融合机制如图3所示..."
- "自适应渐进式学习策略如图4所示..."

