# 当前运行配置说明

## 📌 您当前运行的是：**完整UMC模型（包含所有创新点）** ✅

**不是基线！** 您运行的是包含所有三个创新点的完整UMC模型。

---

## 🚀 UMC的三个核心创新点

### 创新点一：ConFEDE双投影机制 (Contextual Feature Extraction via Dual Projection)

**核心思想**：将视频和音频特征分为**主要信息**和**环境信息**两部分分别提取

**当前配置状态**：
```python
'enable_video_dual': True,      # ✅ 启用视频双投影
'enable_audio_dual': True,      # ✅ 启用音频双投影
```

**技术细节**：
- **视频双投影**：
  - 相似性投影：提取人物、动作、表情等主要信息
  - 相异性投影：提取背景、场景、环境等环境信息
- **音频双投影**：
  - 相似性投影：提取语音内容、语调、情感等主要信息
  - 相异性投影：提取背景噪音、环境音等环境信息

**创新价值**：突破传统单向量表示的局限性，实现更丰富、更细粒度的特征表示

---

### 创新点二：文本引导多模态注意力融合

**核心思想**：以**文本为锚点**引导其他模态，充分利用文本作为高质量模态的优势

**当前配置状态**：
```python
'enable_text_guided_attention': True,  # ✅ 启用文本引导注意力
'enable_self_attention': True,         # ✅ 启用自注意力机制
'self_attention_layers': 2,            # ✅ 2层自注意力
```

**技术细节**：
- **交叉注意力**：文本作为Query，引导视频/音频特征的注意力计算
- **自注意力**：对拼接特征进行全局交互，通过残差连接保持信息不丢失
- **门控融合**：智能融合多模态特征

**创新价值**：实现"高质量模态引导低质量模态"的有效融合策略

---

### 创新点三：自适应渐进式学习策略

**核心思想**：通过**四维度自适应调整机制**实现训练过程的智能化和自适应化

**当前配置状态**：
```python
'enable_adaptive_threshold': True,    # ✅ 启用自适应阈值
'enable_early_stop': True,             # ✅ 启用早停机制
'enable_clustering_optimization': True, # ✅ 启用聚类优化
'enable_clustering_loss': True,        # ✅ 启用聚类损失
'enable_contrastive_loss': True,       # ✅ 启用对比学习损失
```

**技术细节**：
- **S型阈值曲线**：符合聚类学习规律，分四个阶段动态增长
- **四维度调整**：
  1. 性能自适应：根据NMI/ARI变化调整
  2. 损失自适应：根据损失变化调整
  3. 稳定性调整：根据训练稳定性调整
  4. 基础阈值：动态调整基础阈值
- **智能早停**：多维度判断，避免无效训练
- **增强损失函数**：
  - 聚类损失（clustering_loss）
  - 对比学习损失（contrastive_loss）
  - 紧密度损失（compactness_loss）
  - 分离度损失（separation_loss）

**创新价值**：显著提升训练效率和聚类质量

---

## 📊 当前配置完整状态

### ✅ 已启用的创新点功能

| 创新点 | 功能模块 | 状态 | 配置参数 |
|--------|---------|------|---------|
| **创新点一** | 视频双投影 | ✅ 启用 | `enable_video_dual: True` |
| | 音频双投影 | ✅ 启用 | `enable_audio_dual: True` |
| **创新点二** | 文本引导注意力 | ✅ 启用 | `enable_text_guided_attention: True` |
| | 自注意力机制 | ✅ 启用 | `enable_self_attention: True` |
| | 自注意力层数 | ✅ 启用 | `self_attention_layers: 2` |
| **创新点三** | 自适应阈值 | ✅ 启用 | `enable_adaptive_threshold: True` |
| | 早停机制 | ✅ 启用 | `enable_early_stop: True` |
| | 聚类优化 | ✅ 启用 | `enable_clustering_optimization: True` |
| | 聚类损失 | ✅ 启用 | `enable_clustering_loss: True` |
| | 对比学习损失 | ✅ 启用 | `enable_contrastive_loss: True` |
| | 紧密度损失 | ✅ 启用 | `compactness_weight: 1.5` |
| | 分离度损失 | ✅ 启用 | `separation_weight: 1.5` |

### 📈 当前超参数设置（针对IEMOCAP-DA优化）

```python
# 训练参数
'num_pretrain_epochs': [150],      # 预训练150轮
'num_train_epochs': [100],          # 主训练100轮
'lr': [2e-4],                       # 学习率2e-4（已优化）
'train_temperature_sup': [20],      # 监督温度20（已优化）

# 渐进式策略参数
'thres': [0.03],                    # 初始阈值0.03（保守设置）
'delta': [0.01],                    # 阈值增长步长0.01
'max_threshold': 0.3,               # 最大阈值0.3
'min_threshold': 0.03,             # 最小阈值0.03

# 损失权重（针对类别不平衡优化）
'clustering_weight': 2.0,           # 聚类损失权重2.0
'contrastive_weight': 1.0,         # 对比学习权重1.0
'compactness_weight': 1.5,          # 紧密度权重1.5
'separation_weight': 1.5,           # 分离度权重1.5

# 模型容量
'base_dim': [256],                  # 特征维度256（已增加）
```

---

## 🔄 基线 vs 完整UMC模型对比

### 基线配置（如果运行基线）

如果要运行基线，需要设置：
```python
'enable_video_dual': False,              # ❌ 禁用双投影
'enable_audio_dual': False,              # ❌ 禁用双投影
'enable_text_guided_attention': False,   # ❌ 禁用文本引导注意力
'enable_self_attention': False,          # ❌ 禁用自注意力
'enable_clustering_optimization': False, # ❌ 禁用聚类优化
'enable_adaptive_threshold': False,      # ❌ 禁用自适应阈值
```

### 您当前的配置（完整UMC）

```python
'enable_video_dual': True,               # ✅ 启用
'enable_audio_dual': True,               # ✅ 启用
'enable_text_guided_attention': True,   # ✅ 启用
'enable_self_attention': True,          # ✅ 启用
'enable_clustering_optimization': True, # ✅ 启用
'enable_adaptive_threshold': True,      # ✅ 启用
```

**结论**：您运行的是**完整UMC模型**，包含所有创新点！🎉

---

## 📝 如何运行基线实验

如果您想运行基线实验进行对比，可以：

### 方法1：使用消融实验参数

```bash
python run.py \
    --dataset IEMOCAP-DA \
    --ablation_experiment baseline_traditional \
    --train \
    --save_results
```

### 方法2：修改配置文件

在 `configs/umc_IEMOCAP-DA.py` 中设置：
```python
'enable_video_dual': False,
'enable_audio_dual': False,
'enable_text_guided_attention': False,
'enable_self_attention': False,
'enable_clustering_optimization': False,
'enable_adaptive_threshold': False,
```

---

## 🎯 总结

1. **您当前运行的是完整UMC模型**，包含所有三个创新点
2. **不是基线**，是包含所有创新点的完整版本
3. **三个创新点都已启用**：
   - ✅ ConFEDE双投影机制
   - ✅ 文本引导多模态注意力融合
   - ✅ 自适应渐进式学习策略
4. **配置已针对IEMOCAP-DA数据集优化**，包括超参数调整和损失权重调整

---

## 📚 相关文档

- `ABLATION_EXPERIMENTS_README.md` - 消融实验说明
- `论文实验清单.md` - 论文所需实验清单
- `IEMOCAP-DA性能分析指南.md` - IEMOCAP-DA优化指南








