# è¿è¡Œå…³é—­åˆ›æ–°ç‚¹ä¸€çš„å®éªŒï¼ˆMIntRecæ•°æ®é›†ï¼‰

## âœ… å¥½æ¶ˆæ¯ï¼šå®éªŒå·²é…ç½®å¥½ï¼

é…ç½®æ–‡ä»¶ä¸­å·²ç»æœ‰ `no_dual_projection` å®éªŒï¼Œæ­£å¥½æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼š
- âŒ å…³é—­åˆ›æ–°ç‚¹ä¸€ï¼ˆåŒæŠ•å½±æœºåˆ¶ï¼‰
- âœ… ä¿ç•™åˆ›æ–°ç‚¹äºŒï¼ˆæ–‡æœ¬å¼•å¯¼æ³¨æ„åŠ›ï¼‰
- âœ… ä¿ç•™åˆ›æ–°ç‚¹ä¸‰ï¼ˆæ¸è¿›å¼å­¦ä¹ ï¼‰

---

## ğŸš€ å¿«é€Ÿè¿è¡Œ

### æ–¹æ³•1ï¼šå•æ¬¡è¿è¡Œï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰

```bash
python run.py \
    --dataset MIntRec \
    --data_path 'Datasets' \
    --logger_name umc \
    --multimodal_method umc \
    --method umc \
    --train \
    --tune \
    --save_results \
    --seed 0 \
    --gpu_id '0' \
    --video_feats_path 'swin_feats.pkl' \
    --audio_feats_path 'wavlm_feats.pkl' \
    --text_backbone bert-base-uncased \
    --config_file_name umc_MIntRec \
    --ablation_experiment no_dual_projection \
    --results_file_name "results_no_dual_projection.csv" \
    --output_path "outputs/MIntRec/ablation_no_dual_projection"
```

### æ–¹æ³•2ï¼šè¿è¡Œ5æ¬¡å–å¹³å‡ï¼ˆæ¨èï¼‰

```bash
for seed in 0 1 2 3 4; do
    python run.py \
        --dataset MIntRec \
        --data_path 'Datasets' \
        --train \
        --tune \
        --save_results \
        --seed $seed \
        --gpu_id '0' \
        --config_file_name umc_MIntRec \
        --ablation_experiment no_dual_projection \
        --results_file_name "results_no_dual_projection_seed${seed}.csv" \
        --output_path "outputs/MIntRec/ablation_no_dual_projection/seed${seed}"
done
```

### æ–¹æ³•3ï¼šWindowsæ‰¹å¤„ç†è„šæœ¬

åˆ›å»º `run_no_dual_projection.bat`ï¼š

```batch
@echo off
echo è¿è¡Œå…³é—­åˆ›æ–°ç‚¹ä¸€çš„æ¶ˆèå®éªŒ

cd /d "d:\ä¸‹è½½\UMC-main (9)\UMC-main"

for /L %%i in (0,1,4) do (
    echo è¿è¡Œç§å­: %%i
    
    python run.py ^
    --dataset MIntRec ^
    --data_path "Datasets" ^
    --train ^
    --tune ^
    --save_results ^
    --seed %%i ^
    --gpu_id "0" ^
    --config_file_name umc_MIntRec ^
    --ablation_experiment no_dual_projection ^
    --results_file_name "results_no_dual_projection_seed%%i.csv" ^
    --output_path "outputs/MIntRec/ablation_no_dual_projection/seed%%i"
    
    echo ç§å­ %%i å®Œæˆ
)

echo å®éªŒå®Œæˆï¼
pause
```

è¿è¡Œï¼š
```cmd
run_no_dual_projection.bat
```

---

## ğŸ“‹ å®éªŒé…ç½®è¯´æ˜

### å½“å‰é…ç½®ï¼ˆ`no_dual_projection`ï¼‰

**ä½ç½®**ï¼š`configs/umc_MIntRec.py` ç¬¬ 167-183 è¡Œ

**é…ç½®å†…å®¹**ï¼š
```python
elif experiment_name == 'no_dual_projection':
    config = default_config.copy()
    config.update({
        # åˆ›æ–°ç‚¹ä¸€ï¼šå…³é—­åŒæŠ•å½±
        'enable_dual_projection': False,
        'enable_video_dual': False,
        'enable_audio_dual': False,
        
        # åˆ›æ–°ç‚¹äºŒï¼šä¿ç•™ï¼ˆä½¿ç”¨é»˜è®¤å€¼ Trueï¼‰
        # enable_text_guided_attention: True (é»˜è®¤)
        # enable_self_attention: True (é»˜è®¤)
        
        # åˆ›æ–°ç‚¹ä¸‰ï¼šä¿ç•™
        'enable_clustering_loss': True,
        'enable_contrastive_loss': True,
        'enable_compactness_loss': True,
        'enable_separation_loss': True,
        'enable_progressive_learning': True,
        'enable_adaptive_threshold': True,
        'enable_performance_monitoring': True,
        'enable_early_stop': True,
    })
```

### å¼€å…³çŠ¶æ€ç¡®è®¤

| åˆ›æ–°ç‚¹ | ç»„ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|------|
| **åˆ›æ–°ç‚¹ä¸€** | è§†é¢‘åŒæŠ•å½± | âŒ å…³é—­ | `enable_video_dual: False` |
| | éŸ³é¢‘åŒæŠ•å½± | âŒ å…³é—­ | `enable_audio_dual: False` |
| **åˆ›æ–°ç‚¹äºŒ** | æ–‡æœ¬å¼•å¯¼æ³¨æ„åŠ› | âœ… å¼€å¯ | ä½¿ç”¨é»˜è®¤å€¼ `True` |
| | è‡ªæ³¨æ„åŠ› | âœ… å¼€å¯ | ä½¿ç”¨é»˜è®¤å€¼ `True` |
| **åˆ›æ–°ç‚¹ä¸‰** | æ¸è¿›å¼å­¦ä¹  | âœ… å¼€å¯ | `enable_progressive_learning: True` |
| | è‡ªé€‚åº”é˜ˆå€¼ | âœ… å¼€å¯ | `enable_adaptive_threshold: True` |
| | èšç±»ä¼˜åŒ– | âœ… å¼€å¯ | `enable_clustering_optimization: True` |

---

## âœ… éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®

### æ–¹æ³•1ï¼šæŸ¥çœ‹æ—¥å¿—

è¿è¡Œæ—¶ä¼šæ‰“å°é…ç½®ä¿¡æ¯ï¼Œæ£€æŸ¥æ—¥å¿—ä¸­æ˜¯å¦æ˜¾ç¤ºï¼š
```
enable_video_dual: False
enable_audio_dual: False
enable_text_guided_attention: True
enable_self_attention: True
enable_progressive_learning: True
```

### æ–¹æ³•2ï¼šæ£€æŸ¥ç»“æœ

è¿è¡Œåå¯¹æ¯”ï¼š
- **å®Œæ•´UMC**ï¼ˆæ‰€æœ‰åˆ›æ–°ç‚¹ï¼‰ï¼šNMI â‰ˆ 49.18%
- **å…³é—­åˆ›æ–°ç‚¹ä¸€**ï¼šNMI åº”è¯¥ä¸‹é™ï¼ˆè¯´æ˜åˆ›æ–°ç‚¹ä¸€æœ‰æ•ˆï¼‰

---

## ğŸ“Š é¢„æœŸç»“æœ

### ä¸å®Œæ•´UMCå¯¹æ¯”

| é…ç½® | åˆ›æ–°ç‚¹ä¸€ | åˆ›æ–°ç‚¹äºŒ | åˆ›æ–°ç‚¹ä¸‰ | é¢„æœŸNMI |
|------|---------|---------|---------|---------|
| **å®Œæ•´UMC** | âœ… | âœ… | âœ… | ~49.18% |
| **å…³é—­åˆ›æ–°ç‚¹ä¸€** | âŒ | âœ… | âœ… | ~48.5-49.0% |

**é¢„æœŸ**ï¼šå…³é—­åˆ›æ–°ç‚¹ä¸€åï¼Œæ€§èƒ½åº”è¯¥ä¸‹é™ï¼Œè¯æ˜åŒæŠ•å½±æœºåˆ¶çš„æœ‰æ•ˆæ€§ã€‚

---

## ğŸ” å¦‚æœéœ€è¦ç¡®ä¿åˆ›æ–°ç‚¹äºŒä¹Ÿæ˜ç¡®å¯ç”¨

å¦‚æœæ‹…å¿ƒé…ç½®ä¸å®Œæ•´ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ˜ç¡®è®¾ç½®åˆ›æ–°ç‚¹äºŒï¼š

### ä¿®æ”¹ `configs/umc_MIntRec.py`

åœ¨ç¬¬ 183 è¡Œä¹‹å‰æ·»åŠ ï¼š

```python
elif experiment_name == 'no_dual_projection':
    config = default_config.copy()
    config.update({
        # åˆ›æ–°ç‚¹ä¸€ï¼šå…³é—­åŒæŠ•å½±
        'enable_dual_projection': False,
        'enable_video_dual': False,
        'enable_audio_dual': False,
        
        # åˆ›æ–°ç‚¹äºŒï¼šæ˜ç¡®å¯ç”¨ï¼ˆç¡®ä¿å¼€å¯ï¼‰
        'enable_text_guided_attention': True,
        'enable_self_attention': True,
        'self_attention_layers': 2,
        
        # åˆ›æ–°ç‚¹ä¸‰ï¼šä¿ç•™
        'enable_clustering_loss': True,
        'enable_contrastive_loss': True,
        'enable_compactness_loss': True,
        'enable_separation_loss': True,
        'enable_progressive_learning': True,
        'enable_adaptive_threshold': True,
        'enable_performance_monitoring': True,
        'enable_early_stop': True,
        'enable_clustering_optimization': True,
    })
```

**æ³¨æ„**ï¼šç”±äºä½¿ç”¨äº† `default_config.copy()`ï¼Œå³ä½¿ä¸æ˜ç¡®è®¾ç½®ï¼Œåˆ›æ–°ç‚¹äºŒé»˜è®¤ä¹Ÿæ˜¯å¯ç”¨çš„ã€‚ä½†æ˜ç¡®è®¾ç½®æ›´æ¸…æ™°ã€‚

---

## ğŸ“ è¿è¡Œå‘½ä»¤æ€»ç»“

### æœ€ç®€å•çš„å‘½ä»¤

```bash
python run.py \
    --dataset MIntRec \
    --ablation_experiment no_dual_projection \
    --train \
    --save_results
```

### å®Œæ•´å‘½ä»¤ï¼ˆæ¨èï¼‰

```bash
python run.py \
    --dataset MIntRec \
    --data_path 'Datasets' \
    --train \
    --tune \
    --save_results \
    --seed 0 \
    --gpu_id '0' \
    --config_file_name umc_MIntRec \
    --ablation_experiment no_dual_projection \
    --results_file_name "results_no_dual_projection.csv" \
    --output_path "outputs/MIntRec/ablation_no_dual_projection"
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **è¿è¡Œå®éªŒ**ï¼šä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤è¿è¡Œ
2. **å¯¹æ¯”ç»“æœ**ï¼šä¸å®Œæ•´UMCçš„ç»“æœå¯¹æ¯”
3. **åˆ†æå·®å¼‚**ï¼šåˆ†æå…³é—­åˆ›æ–°ç‚¹ä¸€åçš„æ€§èƒ½å˜åŒ–

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¡®ä¿æ•°æ®é›†è·¯å¾„æ­£ç¡®**ï¼š`--data_path 'Datasets'`
2. **ç¡®ä¿GPUå¯ç”¨**ï¼š`--gpu_id '0'`
3. **å»ºè®®è¿è¡Œ5æ¬¡**ï¼šä½¿ç”¨ä¸åŒçš„seedï¼ˆ0-4ï¼‰å–å¹³å‡å€¼
4. **ä¿å­˜ç»“æœ**ï¼šä½¿ç”¨ `--save_results` ä¿å­˜å®éªŒç»“æœ

---

**æ€»ç»“**ï¼šç›´æ¥ä½¿ç”¨ `--ablation_experiment no_dual_projection` å³å¯ï¼è¿™ä¸ªå®éªŒå·²ç»é…ç½®å¥½äº†ï¼Œä¼šå…³é—­åˆ›æ–°ç‚¹ä¸€ï¼Œä¿ç•™å…¶ä»–æ‰€æœ‰åˆ›æ–°ç‚¹ã€‚








